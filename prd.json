{
  "projectName": "Virtual Cofounder",
  "version": "1.0.0",
  "currentPhase": "phase-6-complete",
  "completedDate": "2026-01-07",
  "notes": "Phase 6 complete with Linear integration + Slack enhancements. All core V1 features shipped. Ready for Phase 7 improvements.",
  "phases": [
    {
      "id": "phase-1",
      "name": "Foundation - Database & Dashboard",
      "status": "complete",
      "completedDate": "2025-12-XX"
    },
    {
      "id": "phase-2",
      "name": "Scanning System",
      "status": "complete",
      "completedDate": "2025-12-XX"
    },
    {
      "id": "phase-3",
      "name": "Orchestrator + Claude Agent SDK",
      "status": "complete",
      "completedDate": "2025-12-XX"
    },
    {
      "id": "phase-4",
      "name": "Slack Integration",
      "status": "complete",
      "completedDate": "2025-12-XX"
    },
    {
      "id": "phase-5",
      "name": "PR Creation & Automated Execution",
      "status": "complete",
      "completedDate": "2026-01-XX"
    },
    {
      "id": "phase-6",
      "name": "Linear Integration + Enhancements",
      "status": "complete",
      "completedDate": "2026-01-07",
      "enhancements": [
        "Slack-triggered orchestrator and execution workflows",
        "2x/day automated schedule (AM & PM)",
        "Slack message storage and dashboard history",
        "Linear task links in Slack view details",
        "Dashboard UX improvements (row-based view, last scanned dates)",
        "Orchestrator run history tracking",
        "Health check endpoint"
      ]
    },
    {
      "id": "phase-7",
      "name": "Advanced Scanning - Vercel, Playwright, Security",
      "status": "done",
      "notes": "Add Vercel deployment scanner, Playwright/Browserless for Core Web Vitals + screenshots, and security scanning (npm audit + secrets detection)"
    }
  ],
  "stories": [
    {
      "id": "vc-020",
      "phase": "phase-2",
      "title": "Create API route /api/scans/trigger",
      "description": "Create POST endpoint that triggers scans for all active projects. Enqueues scan jobs to Redis queue (BullMQ). Returns job IDs and status.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "app/api/scans/trigger/route.ts",
          "mustExist": true
        },
        {
          "type": "command",
          "command": "curl -X POST http://localhost:3000/api/scans/trigger -H 'Content-Type: application/json' -d '{}'",
          "expectedOutput": "\"status\":\"success\"",
          "mustPass": true
        },
        {
          "type": "file_contains",
          "path": "app/api/scans/trigger/route.ts",
          "pattern": "export async function POST",
          "mustContain": true
        }
      ],
      "blockedBy": [],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-021",
      "phase": "phase-2",
      "title": "Port domain scanner from old system",
      "description": "Port domain scanning logic from /Users/miguel/Reboot/dashboard-archive/scan_projects.js. Check HTTP/HTTPS reachability, SSL cert, DNS, redirects, response time. Write results to scans table.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/scanners/domain.ts",
          "mustExist": true
        },
        {
          "type": "command",
          "command": "npm run test:scanner:domain",
          "expectedOutput": "✓ Domain scanner test passed",
          "mustPass": true
        },
        {
          "type": "file_contains",
          "path": "lib/scanners/domain.ts",
          "pattern": "export async function scanDomain",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-020"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-022",
      "phase": "phase-2",
      "title": "Port SEO scanner",
      "description": "Port SEO scanning from old system. Extract title, meta description, OG tags, H1, canonical URL, robots.txt, sitemap.xml. Write to scans table with scan_type='seo'.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/scanners/seo.ts",
          "mustExist": true
        },
        {
          "type": "command",
          "command": "npm run test:scanner:seo",
          "expectedOutput": "✓ SEO scanner test passed",
          "mustPass": true
        },
        {
          "type": "file_contains",
          "path": "lib/scanners/seo.ts",
          "pattern": "export async function scanSEO",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-021"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-023",
      "phase": "phase-2",
      "title": "Implement analytics detection scanner",
      "description": "Create analytics scanner that detects PostHog, Google Analytics, Plausible, Fathom, Tag Manager. Check for script snippets in HTML. Write to scans table with scan_type='analytics'.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/scanners/analytics.ts",
          "mustExist": true
        },
        {
          "type": "command",
          "command": "npm run test:scanner:analytics",
          "expectedOutput": "✓ Analytics scanner test passed",
          "mustPass": true
        },
        {
          "type": "file_contains",
          "path": "lib/scanners/analytics.ts",
          "pattern": "export async function scanAnalytics",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-022"
      ],
      "status": "done",
      "effort": "low",
      "priority": "medium"
    },
    {
      "id": "vc-024",
      "phase": "phase-2",
      "title": "Deploy Railway worker for scan execution",
      "description": "Create worker process that pulls scan jobs from Redis queue and executes domain, SEO, analytics scanners. Deploy to Railway. Configure environment variables.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "workers/scan-worker.ts",
          "mustExist": true
        },
        {
          "type": "file_exists",
          "path": "railway.json",
          "mustExist": true
        },
        {
          "type": "command",
          "command": "npm run worker:scan",
          "expectedOutput": "Worker started",
          "mustPass": true
        }
      ],
      "blockedBy": [
        "vc-023"
      ],
      "status": "done",
      "effort": "high",
      "priority": "high"
    },
    {
      "id": "vc-025",
      "phase": "phase-2",
      "title": "Set up Vercel Cron for daily 9am trigger",
      "description": "Configure Vercel Cron to trigger /api/scans/trigger daily at 9am UTC. Add vercel.json cron configuration.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "vercel.json",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "vercel.json",
          "pattern": "\"crons\"",
          "mustContain": true
        },
        {
          "type": "file_contains",
          "path": "vercel.json",
          "pattern": "0 9 \\* \\* \\*",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-024"
      ],
      "status": "done",
      "effort": "low",
      "priority": "medium"
    },
    {
      "id": "vc-026",
      "phase": "phase-2",
      "title": "E2E validation - scans to DB to dashboard",
      "description": "End-to-end test: Trigger scan via API → Worker executes → Results in DB → Dashboard shows updated data. Verify all 3 scan types work.",
      "acceptanceCriteria": [
        {
          "type": "command",
          "command": "npm run test:e2e:scans",
          "expectedOutput": "✓ All scans completed successfully",
          "mustPass": true
        },
        {
          "type": "command",
          "command": "npm run test:db:tables",
          "expectedOutput": "✓ Scans table has data",
          "mustPass": true
        }
      ],
      "blockedBy": [
        "vc-025"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-027",
      "phase": "phase-3",
      "title": "Verify Anthropic SDK installed",
      "description": "Verify @anthropic-ai/sdk is installed for orchestrator multi-agent system. Already installed in Phase 1.",
      "acceptanceCriteria": [
        {
          "type": "command",
          "command": "npm list @anthropic-ai/sdk",
          "expectedOutput": "@anthropic-ai/sdk",
          "mustPass": true
        },
        {
          "type": "file_contains",
          "path": "package.json",
          "pattern": "@anthropic-ai/sdk",
          "mustContain": true
        }
      ],
      "blockedBy": [],
      "status": "done",
      "effort": "low",
      "priority": "high"
    },
    {
      "id": "vc-028",
      "phase": "phase-3",
      "title": "Create agent registry with core agents",
      "description": "Create lib/agents.ts with agent registry. Start with 5 core agents: security, analytics, domain, seo, deployment. Each agent has name, model, instructions.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/agents.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "lib/agents.ts",
          "pattern": "export const agents",
          "mustContain": true
        },
        {
          "type": "file_contains",
          "path": "lib/agents.ts",
          "pattern": "security",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-027"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-029",
      "phase": "phase-3",
      "title": "Create Head of Product orchestrator",
      "description": "Create lib/orchestrator.ts with Head of Product orchestrator using Claude Agent SDK. Orchestrator analyzes scan results, spawns specialist agents, ranks findings by priority.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/orchestrator.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "lib/orchestrator.ts",
          "pattern": "export async function runOrchestrator",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-028"
      ],
      "status": "done",
      "effort": "high",
      "priority": "high"
    },
    {
      "id": "vc-030",
      "phase": "phase-3",
      "title": "Create API route /api/orchestrator/run",
      "description": "Create POST endpoint that runs orchestrator, reads scan results from DB, creates agent findings and completions. Returns run_id, findings count, completions count.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "app/api/orchestrator/run/route.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "app/api/orchestrator/run/route.ts",
          "pattern": "export async function POST",
          "mustContain": true
        },
        {
          "type": "command",
          "command": "curl -X POST http://localhost:3000/api/orchestrator/run -H 'Content-Type: application/json' -d '{}'",
          "expectedOutput": "\"run_id\"",
          "mustPass": true
        }
      ],
      "blockedBy": [
        "vc-029"
      ],
      "status": "done",
      "effort": "high",
      "priority": "high"
    },
    {
      "id": "vc-031",
      "phase": "phase-3",
      "title": "Verify orchestrator creates agent findings",
      "description": "Test that orchestrator run creates agent_findings records in database. Verify findings have correct structure (agent, issue, action, severity, effort, impact, confidence).",
      "acceptanceCriteria": [
        {
          "type": "command",
          "command": "npm run test:orchestrator:findings",
          "expectedOutput": "✓ Agent findings created",
          "mustPass": true
        }
      ],
      "blockedBy": [
        "vc-030"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-032",
      "phase": "phase-3",
      "title": "Verify orchestrator creates completions",
      "description": "Test that orchestrator run creates completions records in database. Verify completions have correct structure (title, rationale, priority, policy, status).",
      "acceptanceCriteria": [
        {
          "type": "command",
          "command": "npm run test:orchestrator:completions",
          "expectedOutput": "✓ Completions created",
          "mustPass": true
        }
      ],
      "blockedBy": [
        "vc-031"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-033",
      "phase": "phase-3",
      "title": "E2E validation - orchestrator pipeline",
      "description": "End-to-end test: Scans exist in DB → Trigger orchestrator → Agent findings created → Completions created → Orchestrator run recorded. Verify full pipeline.",
      "acceptanceCriteria": [
        {
          "type": "command",
          "command": "npm run test:e2e:orchestrator",
          "expectedOutput": "✓ Full orchestrator pipeline complete",
          "mustPass": true
        }
      ],
      "blockedBy": [
        "vc-032"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-034",
      "phase": "phase-4",
      "title": "Install Slack SDK",
      "description": "Install @slack/web-api and @slack/bolt packages for Slack integration. Verify installation.",
      "acceptanceCriteria": [
        {
          "type": "command",
          "command": "npm list @slack/web-api",
          "expectedOutput": "@slack/web-api",
          "mustPass": true
        },
        {
          "type": "file_contains",
          "path": "package.json",
          "pattern": "@slack/web-api",
          "mustContain": true
        }
      ],
      "blockedBy": [],
      "status": "done",
      "effort": "low",
      "priority": "high"
    },
    {
      "id": "vc-035",
      "phase": "phase-4",
      "title": "Create Slack notification utility",
      "description": "Create lib/slack.ts with functions to send messages, format Block Kit messages, and post completion notifications to Slack.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/slack.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "lib/slack.ts",
          "pattern": "export async function sendCompletionNotification",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-034"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-036",
      "phase": "phase-4",
      "title": "Integrate Slack notifications into orchestrator",
      "description": "Update orchestrator API to send Slack notifications after creating completions. Post to #cofounder-updates channel with completion details.",
      "acceptanceCriteria": [
        {
          "type": "file_contains",
          "path": "app/api/orchestrator/run/route.ts",
          "pattern": "sendCompletionNotification",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-035"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-037",
      "phase": "phase-4",
      "title": "Create morning check-in cron",
      "description": "Create API route for morning check-in that sends a message to Slack asking user about priorities. Add to Vercel cron for daily 9am UTC.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "app/api/slack/check-in/route.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "vercel.json",
          "pattern": "/api/slack/check-in",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-035"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "medium"
    },
    {
      "id": "vc-038",
      "phase": "phase-4",
      "title": "Implement priority parsing",
      "description": "Create utility to parse user Slack messages and extract project priorities using Anthropic API. Store in user_priorities table with 72h expiry.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/priority-parser.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "lib/priority-parser.ts",
          "pattern": "export async function parseUserPriority",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-037"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "medium"
    },
    {
      "id": "vc-039",
      "phase": "phase-4",
      "title": "Create Slack event webhook",
      "description": "Create API route to handle Slack events (messages, button clicks). Integrate with priority parser for user messages.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "app/api/slack/events/route.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "app/api/slack/events/route.ts",
          "pattern": "export async function POST",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-038"
      ],
      "status": "done",
      "effort": "high",
      "priority": "high"
    },
    {
      "id": "vc-040",
      "phase": "phase-4",
      "title": "E2E validation - Slack integration",
      "description": "End-to-end test: Trigger orchestrator → Verify Slack notification sent → Verify priority parsing works. Mock Slack API for testing.",
      "acceptanceCriteria": [
        {
          "type": "command",
          "command": "npm run test:e2e:slack",
          "expectedOutput": "✓ Slack integration complete",
          "mustPass": true
        }
      ],
      "blockedBy": [
        "vc-039"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-041",
      "phase": "phase-5",
      "title": "Create execution worker infrastructure",
      "description": "Create worker that polls for approved completions (userApproved=true, status='pending') and executes them. Use BullMQ queue pattern from Phase 2. Deploy to Railway.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "workers/execution-worker.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "workers/execution-worker.ts",
          "pattern": "async function executeCompletion",
          "mustContain": true
        },
        {
          "type": "command",
          "command": "npm run worker:execute",
          "expectedOutput": "Worker started",
          "mustPass": true
        }
      ],
      "blockedBy": [],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-042",
      "phase": "phase-5",
      "title": "Implement Git operations lib",
      "description": "Create lib/git.ts with functions: cloneRepo(url), createBranch(name), commitChanges(message), pushBranch(). Use simple-git npm package.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/git.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "lib/git.ts",
          "pattern": "export async function cloneRepo",
          "mustContain": true
        },
        {
          "type": "command",
          "command": "npm run test:git-ops",
          "expectedOutput": "✓ Git operations test passed",
          "mustPass": true
        }
      ],
      "blockedBy": [],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-043",
      "phase": "phase-5",
      "title": "Integrate GitHub Octokit for PR creation",
      "description": "Add @octokit/rest package. Create lib/github.ts with createPullRequest(repo, branch, title, body). Use GITHUB_TOKEN from env.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/github.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "lib/github.ts",
          "pattern": "export async function createPullRequest",
          "mustContain": true
        },
        {
          "type": "command",
          "command": "npm list @octokit/rest",
          "expectedOutput": "@octokit/rest",
          "mustPass": true
        }
      ],
      "blockedBy": [],
      "status": "done",
      "effort": "low",
      "priority": "high"
    },
    {
      "id": "vc-044",
      "phase": "phase-5",
      "title": "Build completion executor with Git + GitHub",
      "description": "In execution worker, implement executeCompletion(): clone repo → create branch → make changes (placeholder) → commit → push → create PR. Update completion with prUrl.",
      "acceptanceCriteria": [
        {
          "type": "file_contains",
          "path": "workers/execution-worker.ts",
          "pattern": "const prUrl = await createPullRequest",
          "mustContain": true
        },
        {
          "type": "command",
          "command": "npm run test:executor",
          "expectedOutput": "✓ PR created",
          "mustPass": true
        }
      ],
      "blockedBy": [
        "vc-041",
        "vc-042",
        "vc-043"
      ],
      "status": "done",
      "effort": "high",
      "priority": "high"
    },
    {
      "id": "vc-045",
      "phase": "phase-5",
      "title": "Add safety policy enforcement",
      "description": "Check completion.policy before execution. auto_safe: execute immediately. approval_required: require userApproved=true. suggest_only: skip execution, just create PR link.",
      "acceptanceCriteria": [
        {
          "type": "file_contains",
          "path": "workers/execution-worker.ts",
          "pattern": "if \\(completion\\.policy === 'suggest_only'\\)",
          "mustContain": true
        },
        {
          "type": "command",
          "command": "npm run test:policy-enforcement",
          "expectedOutput": "✓ Policy enforcement works",
          "mustPass": true
        }
      ],
      "blockedBy": [
        "vc-044"
      ],
      "status": "done",
      "effort": "low",
      "priority": "high"
    },
    {
      "id": "vc-046",
      "phase": "phase-5",
      "title": "Send Slack notifications on PR creation",
      "description": "After PR created, send Slack message with PR URL, completion title, and agent rationale. Include [View PR] button.",
      "acceptanceCriteria": [
        {
          "type": "file_contains",
          "path": "workers/execution-worker.ts",
          "pattern": "await sendSlackNotification",
          "mustContain": true
        },
        {
          "type": "command",
          "command": "npm run test:e2e:pr-notification",
          "expectedOutput": "✓ Slack PR notification sent",
          "mustPass": true
        }
      ],
      "blockedBy": [
        "vc-044"
      ],
      "status": "done",
      "effort": "low",
      "priority": "medium"
    },
    {
      "id": "vc-047",
      "phase": "phase-5",
      "title": "E2E validation - Full execution flow",
      "description": "End-to-end test: Create approved completion → Worker picks it up → Clones repo → Creates PR → Updates completion.prUrl → Sends Slack notification.",
      "acceptanceCriteria": [
        {
          "type": "command",
          "command": "npm run test:e2e:execution",
          "expectedOutput": "✓ Full execution flow complete",
          "mustPass": true
        }
      ],
      "blockedBy": [
        "vc-044",
        "vc-045",
        "vc-046"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-048",
      "phase": "phase-6",
      "title": "Install Linear SDK",
      "description": "Install @linear/sdk package for Linear integration. Verify installation.",
      "acceptanceCriteria": [
        {
          "type": "command",
          "command": "npm list @linear/sdk",
          "expectedOutput": "@linear/sdk",
          "mustPass": true
        },
        {
          "type": "file_contains",
          "path": "package.json",
          "pattern": "@linear/sdk",
          "mustContain": true
        }
      ],
      "blockedBy": [],
      "status": "done",
      "effort": "low",
      "priority": "high"
    },
    {
      "id": "vc-049",
      "phase": "phase-6",
      "title": "Create Linear client wrapper",
      "description": "Create lib/linear.ts with Linear client initialization, team fetching, and task creation functions. Use LINEAR_API_KEY from env.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/linear.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "lib/linear.ts",
          "pattern": "export async function createLinearTask",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-048"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-050",
      "phase": "phase-6",
      "title": "Create API route /api/linear/webhook",
      "description": "Create POST endpoint to handle Linear webhook events (task status changes, comments). Verify webhook signature using LINEAR_WEBHOOK_SECRET.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "app/api/linear/webhook/route.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "app/api/linear/webhook/route.ts",
          "pattern": "export async function POST",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-049"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-051",
      "phase": "phase-6",
      "title": "Integrate Linear task creation into orchestrator",
      "description": "Update orchestrator to create Linear tasks when completions are created. Map completion to appropriate Linear team based on project. Include agent rationale and priority in task description.",
      "acceptanceCriteria": [
        {
          "type": "file_contains",
          "path": "app/api/orchestrator/run/route.ts",
          "pattern": "createLinearTask",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-049"
      ],
      "status": "done",
      "effort": "high",
      "priority": "high"
    },
    {
      "id": "vc-052",
      "phase": "phase-6",
      "title": "Sync completion status to Linear",
      "description": "When completion status changes (pending → in_progress → completed), update corresponding Linear task status. Map completion.status to Linear workflow states.",
      "acceptanceCriteria": [
        {
          "type": "file_contains",
          "path": "workers/execution-worker.ts",
          "pattern": "updateLinearTaskStatus",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-051"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-053",
      "phase": "phase-6",
      "title": "Handle Linear webhook for task updates",
      "description": "When Linear task status changes (e.g., marked as Done), update corresponding completion in database. Implement bidirectional sync.",
      "acceptanceCriteria": [
        {
          "type": "file_contains",
          "path": "app/api/linear/webhook/route.ts",
          "pattern": "prisma.completion.update",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-050",
        "vc-051"
      ],
      "status": "done",
      "effort": "high",
      "priority": "high"
    },
    {
      "id": "vc-054",
      "phase": "phase-6",
      "title": "Post agent dialogue as Linear comments",
      "description": "When agents discuss findings in orchestrator, post their dialogue as comments on the Linear task. Include agent name, reasoning, and recommendations.",
      "acceptanceCriteria": [
        {
          "type": "file_contains",
          "path": "lib/orchestrator.ts",
          "pattern": "addLinearComment",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-051"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "medium"
    },
    {
      "id": "vc-055",
      "phase": "phase-6",
      "title": "Store Linear task ID in completions table",
      "description": "Add linearTaskId field to completions table to link completions with Linear tasks. Update Prisma schema and run migration.",
      "acceptanceCriteria": [
        {
          "type": "file_contains",
          "path": "prisma/schema.prisma",
          "pattern": "linearTaskId",
          "mustContain": true
        },
        {
          "type": "command",
          "command": "npx prisma generate",
          "expectedOutput": "Generated Prisma Client",
          "mustPass": true
        }
      ],
      "blockedBy": [],
      "status": "done",
      "effort": "low",
      "priority": "high"
    },
    {
      "id": "vc-056",
      "phase": "phase-6",
      "title": "Add PR URL to Linear task on completion",
      "description": "When PR is created, add PR URL to Linear task as a comment and update task status. Include PR summary and test results.",
      "acceptanceCriteria": [
        {
          "type": "file_contains",
          "path": "workers/execution-worker.ts",
          "pattern": "addLinearComment.*prUrl",
          "mustContain": true
        }
      ],
      "blockedBy": [
        "vc-052",
        "vc-054"
      ],
      "status": "done",
      "effort": "low",
      "priority": "medium"
    },
    {
      "id": "vc-057",
      "phase": "phase-6",
      "title": "E2E validation - Linear integration",
      "description": "End-to-end test: Trigger orchestrator → Completion created → Linear task created → Task status synced → Agent comments posted → PR URL added to task.",
      "acceptanceCriteria": [
        {
          "type": "command",
          "command": "npm run test:e2e:linear",
          "expectedOutput": "✓ Linear integration complete",
          "mustPass": true
        }
      ],
      "blockedBy": [
        "vc-051",
        "vc-052",
        "vc-053",
        "vc-054",
        "vc-055",
        "vc-056"
      ],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-106",
      "phase": "phase-7",
      "title": "Create Vercel deployment scanner",
      "description": "Create scanner that uses Vercel API to check deployment status, build duration, and deployment URLs. Store results in scans table with scan_type='vercel'.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/scanners/vercel.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "lib/scanners/vercel.ts",
          "pattern": "export async function scanVercelDeployment",
          "mustContain": true
        },
        {
          "type": "command",
          "command": "npm run test:scanner:vercel",
          "expectedOutput": "✓ Vercel scanner test passed",
          "mustPass": true
        }
      ],
      "blockedBy": [],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-107",
      "phase": "phase-7",
      "title": "Install Playwright and Browserless dependencies",
      "description": "Install playwright and configure to use Browserless API for headless browser operations. Set up connection to Browserless cloud service using BROWSERLESS_API_KEY.",
      "acceptanceCriteria": [
        {
          "type": "command",
          "command": "npm list playwright",
          "expectedOutput": "playwright",
          "mustPass": true
        },
        {
          "type": "file_contains",
          "path": "package.json",
          "pattern": "playwright",
          "mustContain": true
        },
        {
          "type": "file_exists",
          "path": "lib/browserless.ts",
          "mustExist": true
        }
      ],
      "blockedBy": [],
      "status": "done",
      "effort": "low",
      "priority": "high"
    },
    {
      "id": "vc-108",
      "phase": "phase-7",
      "title": "Create Core Web Vitals scanner with Playwright",
      "description": "Create scanner that uses Playwright + Browserless to measure Core Web Vitals (LCP, FID, CLS) for each project URL. Test against warmstart.it. Store results in scans table with scan_type='performance'.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/scanners/performance.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "lib/scanners/performance.ts",
          "pattern": "export async function scanPerformance",
          "mustContain": true
        },
        {
          "type": "command",
          "command": "npm run test:scanner:performance",
          "expectedOutput": "✓ Performance scanner test passed",
          "mustPass": true
        }
      ],
      "blockedBy": ["vc-107"],
      "status": "done",
      "effort": "high",
      "priority": "high"
    },
    {
      "id": "vc-109",
      "phase": "phase-7",
      "title": "Create screenshot capture scanner",
      "description": "Create scanner that uses Playwright + Browserless to capture screenshots of project homepages. Upload screenshots to Supabase Storage. Store image URLs in scans table with scan_type='screenshot'.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/scanners/screenshot.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "lib/scanners/screenshot.ts",
          "pattern": "export async function captureScreenshot",
          "mustContain": true
        },
        {
          "type": "command",
          "command": "npm run test:scanner:screenshot",
          "expectedOutput": "✓ Screenshot scanner test passed",
          "mustPass": true
        }
      ],
      "blockedBy": ["vc-107"],
      "status": "done",
      "effort": "medium",
      "priority": "medium"
    },
    {
      "id": "vc-110",
      "phase": "phase-7",
      "title": "Create npm audit security scanner",
      "description": "Create scanner that runs npm audit on cloned repos to detect package vulnerabilities. Parse audit JSON output and store critical/high vulnerabilities in scans table with scan_type='security_npm'.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/scanners/security-npm.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "lib/scanners/security-npm.ts",
          "pattern": "export async function scanNpmAudit",
          "mustContain": true
        },
        {
          "type": "command",
          "command": "npm run test:scanner:security:npm",
          "expectedOutput": "✓ NPM security scanner test passed",
          "mustPass": true
        }
      ],
      "blockedBy": [],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-111",
      "phase": "phase-7",
      "title": "Create secrets detection scanner",
      "description": "Create scanner that scans code for exposed secrets (API keys, tokens, passwords) using regex patterns. Check for common patterns like API_KEY=, SECRET=, TOKEN=. Store findings in scans table with scan_type='security_secrets'.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "lib/scanners/security-secrets.ts",
          "mustExist": true
        },
        {
          "type": "file_contains",
          "path": "lib/scanners/security-secrets.ts",
          "pattern": "export async function scanSecrets",
          "mustContain": true
        },
        {
          "type": "command",
          "command": "npm run test:scanner:security:secrets",
          "expectedOutput": "✓ Secrets scanner test passed",
          "mustPass": true
        }
      ],
      "blockedBy": [],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-112",
      "phase": "phase-7",
      "title": "Integrate advanced scanners into scan worker",
      "description": "Update workers/scan-worker.ts to include all new scanners (Vercel, Performance, Screenshot, NPM Audit, Secrets). Add them to the scan execution pipeline.",
      "acceptanceCriteria": [
        {
          "type": "file_contains",
          "path": "workers/scan-worker.ts",
          "pattern": "scanVercelDeployment",
          "mustContain": true
        },
        {
          "type": "file_contains",
          "path": "workers/scan-worker.ts",
          "pattern": "scanPerformance",
          "mustContain": true
        },
        {
          "type": "file_contains",
          "path": "workers/scan-worker.ts",
          "pattern": "captureScreenshot",
          "mustContain": true
        }
      ],
      "blockedBy": ["vc-106", "vc-108", "vc-109", "vc-110", "vc-111"],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-113",
      "phase": "phase-7",
      "title": "Create validation test script for advanced scanners",
      "description": "Create test script that validates all Phase 7 scanners work correctly. Test against warmstart.it and verify results are stored in database.",
      "acceptanceCriteria": [
        {
          "type": "file_exists",
          "path": "tests/phase-7.test.ts",
          "mustExist": true
        },
        {
          "type": "command",
          "command": "npm run test:phase-7",
          "expectedOutput": "✓ All Phase 7 scanners validated",
          "mustPass": true
        }
      ],
      "blockedBy": ["vc-112"],
      "status": "done",
      "effort": "medium",
      "priority": "high"
    },
    {
      "id": "vc-114",
      "phase": "phase-7",
      "title": "Update dashboard to display advanced scan results",
      "description": "Update dashboard UI to show Vercel deployment status, Core Web Vitals scores, screenshots, and security findings. Add new columns/sections to project detail view.",
      "acceptanceCriteria": [
        {
          "type": "file_contains",
          "path": "app/projects/[id]/page.tsx",
          "pattern": "Core Web Vitals",
          "mustContain": true
        },
        {
          "type": "file_contains",
          "path": "app/projects/[id]/page.tsx",
          "pattern": "Security Findings",
          "mustContain": true
        }
      ],
      "blockedBy": ["vc-112"],
      "status": "done",
      "effort": "medium",
      "priority": "medium"
    },
    {
      "id": "vc-115",
      "phase": "phase-7",
      "title": "E2E validation - Full Phase 7 advanced scanning",
      "description": "End-to-end test: Trigger scan → All 5 new scanners execute → Results stored in DB → Dashboard displays all new data → Orchestrator analyzes advanced scan results.",
      "acceptanceCriteria": [
        {
          "type": "command",
          "command": "npm run validate:phase-7",
          "expectedOutput": "✓ Vercel scanner\n✓ Performance scanner\n✓ Screenshot capture\n✓ NPM audit\n✓ Secrets detection",
          "mustPass": true
        }
      ],
      "blockedBy": ["vc-113", "vc-114"],
      "status": "done",
      "effort": "high",
      "priority": "high"
    }
  ]
}